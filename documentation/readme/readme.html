<!doctype html><html><head><title>z-run</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="dark"><link rel=icon href="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22%3E%3Cg data-name=%22Layer 2%22%3E%3Cg data-name=%22file-text%22%3E%3Crect width=%2224%22 height=%2224%22 opacity=%220%22/%3E%3Cpath d=%22M15 16H9a1 1 0 000 2h6a1 1 0 000-2z%22/%3E%3Cpath d=%22M9 14h3a1 1 0 000-2H9a1 1 0 000 2z%22/%3E%3Cpath d=%22M19.74 8.33l-5.44-6A1 1 0 0013.56 2h-7A2.53 2.53.0 004 4.5v15A2.53 2.53.0 006.56 22h10.88A2.53 2.53.0 0020 19.5V9a1 1 0 00-.26-.67zM14 5l2.74 3h-2A.79.79.0 0114 7.15zm3.44 15H6.56A.53.53.0 016 19.5v-15a.53.53.0 01.56-.5H12v3.15A2.79 2.79.0 0014.71 10H18v9.5a.53.53.0 01-.56.5z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"><style>@media(prefers-color-scheme:dark){.markdown-body{color-scheme:dark;--color-prettylights-syntax-comment:#8b949e;--color-prettylights-syntax-constant:#79c0ff;--color-prettylights-syntax-entity:#d2a8ff;--color-prettylights-syntax-storage-modifier-import:#c9d1d9;--color-prettylights-syntax-entity-tag:#7ee787;--color-prettylights-syntax-keyword:#ff7b72;--color-prettylights-syntax-string:#a5d6ff;--color-prettylights-syntax-variable:#ffa657;--color-prettylights-syntax-brackethighlighter-unmatched:#f85149;--color-prettylights-syntax-invalid-illegal-text:#f0f6fc;--color-prettylights-syntax-invalid-illegal-bg:#8e1519;--color-prettylights-syntax-carriage-return-text:#f0f6fc;--color-prettylights-syntax-carriage-return-bg:#b62324;--color-prettylights-syntax-string-regexp:#7ee787;--color-prettylights-syntax-markup-list:#f2cc60;--color-prettylights-syntax-markup-heading:#1f6feb;--color-prettylights-syntax-markup-italic:#c9d1d9;--color-prettylights-syntax-markup-bold:#c9d1d9;--color-prettylights-syntax-markup-deleted-text:#ffdcd7;--color-prettylights-syntax-markup-deleted-bg:#67060c;--color-prettylights-syntax-markup-inserted-text:#aff5b4;--color-prettylights-syntax-markup-inserted-bg:#033a16;--color-prettylights-syntax-markup-changed-text:#ffdfb6;--color-prettylights-syntax-markup-changed-bg:#5a1e02;--color-prettylights-syntax-markup-ignored-text:#c9d1d9;--color-prettylights-syntax-markup-ignored-bg:#1158c7;--color-prettylights-syntax-meta-diff-range:#d2a8ff;--color-prettylights-syntax-brackethighlighter-angle:#8b949e;--color-prettylights-syntax-sublimelinter-gutter-mark:#484f58;--color-prettylights-syntax-constant-other-reference-link:#a5d6ff;--color-fg-default:#c9d1d9;--color-fg-muted:#8b949e;--color-fg-subtle:#484f58;--color-canvas-default:#0d1117;--color-canvas-subtle:#161b22;--color-border-default:#30363d;--color-border-muted:#21262d;--color-neutral-muted:rgba(110,118,129,0.4);--color-accent-fg:#58a6ff;--color-accent-emphasis:#1f6feb;--color-attention-subtle:rgba(187,128,9,0.15);--color-danger-fg:#f85149}}@media(prefers-color-scheme:light){.markdown-body{color-scheme:light;--color-prettylights-syntax-comment:#6e7781;--color-prettylights-syntax-constant:#0550ae;--color-prettylights-syntax-entity:#8250df;--color-prettylights-syntax-storage-modifier-import:#24292f;--color-prettylights-syntax-entity-tag:#116329;--color-prettylights-syntax-keyword:#cf222e;--color-prettylights-syntax-string:#0a3069;--color-prettylights-syntax-variable:#953800;--color-prettylights-syntax-brackethighlighter-unmatched:#82071e;--color-prettylights-syntax-invalid-illegal-text:#f6f8fa;--color-prettylights-syntax-invalid-illegal-bg:#82071e;--color-prettylights-syntax-carriage-return-text:#f6f8fa;--color-prettylights-syntax-carriage-return-bg:#cf222e;--color-prettylights-syntax-string-regexp:#116329;--color-prettylights-syntax-markup-list:#3b2300;--color-prettylights-syntax-markup-heading:#0550ae;--color-prettylights-syntax-markup-italic:#24292f;--color-prettylights-syntax-markup-bold:#24292f;--color-prettylights-syntax-markup-deleted-text:#82071e;--color-prettylights-syntax-markup-deleted-bg:#FFEBE9;--color-prettylights-syntax-markup-inserted-text:#116329;--color-prettylights-syntax-markup-inserted-bg:#dafbe1;--color-prettylights-syntax-markup-changed-text:#953800;--color-prettylights-syntax-markup-changed-bg:#ffd8b5;--color-prettylights-syntax-markup-ignored-text:#eaeef2;--color-prettylights-syntax-markup-ignored-bg:#0550ae;--color-prettylights-syntax-meta-diff-range:#8250df;--color-prettylights-syntax-brackethighlighter-angle:#57606a;--color-prettylights-syntax-sublimelinter-gutter-mark:#8c959f;--color-prettylights-syntax-constant-other-reference-link:#0a3069;--color-fg-default:#24292f;--color-fg-muted:#57606a;--color-fg-subtle:#6e7781;--color-canvas-default:#ffffff;--color-canvas-subtle:#f6f8fa;--color-border-default:#d0d7de;--color-border-muted:hsla(210,18%,87%,1);--color-neutral-muted:rgba(175,184,193,0.2);--color-accent-fg:#0969da;--color-accent-emphasis:#0969da;--color-attention-subtle:#fff8c5;--color-danger-fg:#cf222e}}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:var(--color-fg-default);background-color:var(--color-canvas-default);font-family:-apple-system,BlinkMacSystemFont,segoe ui,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:' ';display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22 aria-hidden=%22true%22%3E%3Cpath fill-rule=%22evenodd%22 d=%22M7.775 3.275a.75.75.0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83.0.75.75.0 00-1.06 1.06 3.5 3.5.0 004.95.0l2.5-2.5a3.5 3.5.0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83.0.75.75.0 001.06-1.06 3.5 3.5.0 00-4.95.0l-2.5 2.5a3.5 3.5.0 004.95 4.95l1.25-1.25a.75.75.0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83.0z%22/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22 aria-hidden=%22true%22%3E%3Cpath fill-rule=%22evenodd%22 d=%22M7.775 3.275a.75.75.0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83.0.75.75.0 00-1.06 1.06 3.5 3.5.0 004.95.0l2.5-2.5a3.5 3.5.0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83.0.75.75.0 001.06-1.06 3.5 3.5.0 00-4.95.0l-2.5 2.5a3.5 3.5.0 004.95 4.95l1.25-1.25a.75.75.0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83.0z%22/%3E%3C/svg%3E")}.markdown-body details,.markdown-body figcaption,.markdown-body figure{display:block}.markdown-body summary{display:list-item}.markdown-body [hidden]{display:none!important}.markdown-body a{background-color:initial;color:var(--color-accent-fg);text-decoration:none}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body abbr[title]{border-bottom:none;text-decoration:underline dotted}.markdown-body b,.markdown-body strong{font-weight:600}.markdown-body dfn{font-style:italic}.markdown-body h1{margin:.67em 0;font-weight:600;padding-bottom:.3em;font-size:2em;border-bottom:1px solid var(--color-border-muted)}.markdown-body mark{background-color:var(--color-attention-subtle);color:var(--color-text-primary)}.markdown-body small{font-size:90%}.markdown-body sub,.markdown-body sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.markdown-body sub{bottom:-.25em}.markdown-body sup{top:-.5em}.markdown-body img{border-style:none;max-width:100%;box-sizing:content-box;background-color:var(--color-canvas-default)}.markdown-body code,.markdown-body kbd,.markdown-body pre,.markdown-body samp{font-family:monospace,monospace;font-size:1em}.markdown-body figure{margin:1em 40px}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:0 0;border-bottom:1px solid var(--color-border-muted);height:.25em;padding:0;margin:24px 0;background-color:var(--color-border-default);border:0}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=button],.markdown-body [type=reset],.markdown-body [type=submit]{-webkit-appearance:button}.markdown-body [type=button]::-moz-focus-inner,.markdown-body [type=reset]::-moz-focus-inner,.markdown-body [type=submit]::-moz-focus-inner{border-style:none;padding:0}.markdown-body [type=button]:-moz-focusring,.markdown-body [type=reset]:-moz-focusring,.markdown-body [type=submit]:-moz-focusring{outline:1px dotted ButtonText}.markdown-body [type=checkbox],.markdown-body [type=radio]{box-sizing:border-box;padding:0}.markdown-body [type=number]::-webkit-inner-spin-button,.markdown-body [type=number]::-webkit-outer-spin-button{height:auto}.markdown-body [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.markdown-body [type=search]::-webkit-search-cancel-button,.markdown-body [type=search]::-webkit-search-decoration{-webkit-appearance:none}.markdown-body ::-webkit-input-placeholder{color:inherit;opacity:.54}.markdown-body ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.markdown-body a:hover{text-decoration:underline}.markdown-body hr::before{display:table;content:""}.markdown-body hr::after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:max-content;max-width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>*:not(summary){display:none!important}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;color:var(--color-fg-default);vertical-align:middle;background-color:var(--color-canvas-subtle);border:solid 1px var(--color-neutral-muted);border-bottom-color:var(--color-neutral-muted);border-radius:6px;box-shadow:inset 0 -1px 0 var(--color-neutral-muted)}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h2{font-weight:600;padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid var(--color-border-muted)}.markdown-body h3{font-weight:600;font-size:1.25em}.markdown-body h4{font-weight:600;font-size:1em}.markdown-body h5{font-weight:600;font-size:.875em}.markdown-body h6{font-weight:600;font-size:.85em;color:var(--color-fg-muted)}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0;padding:0 1em;color:var(--color-fg-muted);border-left:.25em solid var(--color-border-default)}.markdown-body ul,.markdown-body ol{margin-top:0;margin-bottom:0;padding-left:2em}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ul ul ol,.markdown-body ul ol ol,.markdown-body ol ul ol,.markdown-body ol ol ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body tt,.markdown-body code{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;word-wrap:normal}.markdown-body .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.markdown-body ::placeholder{color:var(--color-fg-subtle);opacity:1}.markdown-body input::-webkit-outer-spin-button,.markdown-body input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body .pl-c{color:var(--color-prettylights-syntax-comment)}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:var(--color-prettylights-syntax-constant)}.markdown-body .pl-e,.markdown-body .pl-en{color:var(--color-prettylights-syntax-entity)}.markdown-body .pl-smi,.markdown-body .pl-s .pl-s1{color:var(--color-prettylights-syntax-storage-modifier-import)}.markdown-body .pl-ent{color:var(--color-prettylights-syntax-entity-tag)}.markdown-body .pl-k{color:var(--color-prettylights-syntax-keyword)}.markdown-body .pl-s,.markdown-body .pl-pds,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sre,.markdown-body .pl-sr .pl-sra{color:var(--color-prettylights-syntax-string)}.markdown-body .pl-v,.markdown-body .pl-smw{color:var(--color-prettylights-syntax-variable)}.markdown-body .pl-bu{color:var(--color-prettylights-syntax-brackethighlighter-unmatched)}.markdown-body .pl-ii{color:var(--color-prettylights-syntax-invalid-illegal-text);background-color:var(--color-prettylights-syntax-invalid-illegal-bg)}.markdown-body .pl-c2{color:var(--color-prettylights-syntax-carriage-return-text);background-color:var(--color-prettylights-syntax-carriage-return-bg)}.markdown-body .pl-sr .pl-cce{font-weight:700;color:var(--color-prettylights-syntax-string-regexp)}.markdown-body .pl-ml{color:var(--color-prettylights-syntax-markup-list)}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:var(--color-prettylights-syntax-markup-heading)}.markdown-body .pl-mi{font-style:italic;color:var(--color-prettylights-syntax-markup-italic)}.markdown-body .pl-mb{font-weight:700;color:var(--color-prettylights-syntax-markup-bold)}.markdown-body .pl-md{color:var(--color-prettylights-syntax-markup-deleted-text);background-color:var(--color-prettylights-syntax-markup-deleted-bg)}.markdown-body .pl-mi1{color:var(--color-prettylights-syntax-markup-inserted-text);background-color:var(--color-prettylights-syntax-markup-inserted-bg)}.markdown-body .pl-mc{color:var(--color-prettylights-syntax-markup-changed-text);background-color:var(--color-prettylights-syntax-markup-changed-bg)}.markdown-body .pl-mi2{color:var(--color-prettylights-syntax-markup-ignored-text);background-color:var(--color-prettylights-syntax-markup-ignored-bg)}.markdown-body .pl-mdr{font-weight:700;color:var(--color-prettylights-syntax-meta-diff-range)}.markdown-body .pl-ba{color:var(--color-prettylights-syntax-brackethighlighter-angle)}.markdown-body .pl-sg{color:var(--color-prettylights-syntax-sublimelinter-gutter-mark)}.markdown-body .pl-corl{text-decoration:underline;color:var(--color-prettylights-syntax-constant-other-reference-link)}.markdown-body [data-catalyst]{display:block}.markdown-body g-emoji{font-family:apple color emoji,segoe ui emoji,segoe ui symbol;font-size:1em;font-style:normal!important;font-weight:400;line-height:1;vertical-align:-.075em}.markdown-body g-emoji img{width:1em;height:1em}.markdown-body::before{display:table;content:""}.markdown-body::after{display:table;clear:both;content:""}.markdown-body>*:first-child{margin-top:0!important}.markdown-body>*:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:var(--color-danger-fg)}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body p,.markdown-body blockquote,.markdown-body ul,.markdown-body ol,.markdown-body dl,.markdown-body table,.markdown-body pre,.markdown-body details{margin-top:0;margin-bottom:16px}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body sup>a::before{content:"["}.markdown-body sup>a::after{content:"]"}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:var(--color-fg-default);vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 tt,.markdown-body h1 code,.markdown-body h2 tt,.markdown-body h2 code,.markdown-body h3 tt,.markdown-body h3 code,.markdown-body h4 tt,.markdown-body h4 code,.markdown-body h5 tt,.markdown-body h5 code,.markdown-body h6 tt,.markdown-body h6 code{padding:0 .2em;font-size:inherit}.markdown-body ul.no-list,.markdown-body ol.no-list{padding:0;list-style-type:none}.markdown-body ol[type="1"]{list-style-type:decimal}.markdown-body ol[type=a]{list-style-type:lower-alpha}.markdown-body ol[type= i]{list-style-type:lower-roman}.markdown-body div>ol:not([type]){list-style-type:decimal}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table th,.markdown-body table td{padding:6px 13px;border:1px solid var(--color-border-default)}.markdown-body table tr{background-color:var(--color-canvas-default);border-top:1px solid var(--color-border-muted)}.markdown-body table tr:nth-child(2n){background-color:var(--color-canvas-subtle)}.markdown-body table img{background-color:initial}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:initial}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid var(--color-border-default)}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:var(--color-fg-default)}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:.2em .4em;margin:0;font-size:85%;background-color:var(--color-neutral-muted);border-radius:6px}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body pre code{font-size:100%}.markdown-body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:var(--color-canvas-subtle);border-radius:6px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-num{padding:10px 8px 9px;text-align:right;background:var(--color-canvas-default);border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:600;background:var(--color-canvas-subtle);border-top:0}.markdown-body .footnotes{font-size:12px;color:var(--color-fg-muted);border-top:1px solid var(--color-border-default)}.markdown-body .footnotes ol{padding-left:16px}.markdown-body .footnotes li{position:relative}.markdown-body .footnotes li:target::before{position:absolute;top:-8px;right:-8px;bottom:-8px;left:-24px;pointer-events:none;content:"";border:2px solid var(--color-accent-emphasis);border-radius:6px}.markdown-body .footnotes li:target{color:var(--color-fg-default)}.markdown-body .footnotes .data-footnote-backref g-emoji{font-family:monospace}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item label{font-weight:400}.markdown-body .task-list-item.enabled label{cursor:pointer}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item .handle{display:none}.markdown-body .task-list-item-checkbox{margin:0 .2em .25em -1.6em;vertical-align:middle}.markdown-body .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.markdown-body ::-webkit-calendar-picker-indicator{filter:invert(50%)}</style><style>html:root,body{margin:0;padding:0;-webkit-text-size-adjust:100%;background:#22272e}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px}@media(max-width:800px){.markdown-body{padding:15px}}</style><script>(function(){"use strict";function e(){if(window.location.search!="?reload")return;window.history.scrollRestoration!==void 0&&(window.history.scrollRestoration="auto"),window.history.go()}window.setTimeout(e,1e3)})()</script></head><body><main class=markdown-body><p><img src=https://github.com/volution/z-run/raw/development/documentation/assets/github-banner.png alt=banner></p><hr><h1><code>z-run</code> -- lightweight Go-based scripts library tool</h1><blockquote><ul><li><a href=#about>about</a>;
<a href=#status>status</a>;</li><li><a href=#manual>manual</a>;
<a href=#examples>examples</a>;
<a href=#faq>FAQ</a>;</li><li><a href=#installation>installation</a>;</li><li><a href=#notice-copyright-and-licensing>licensing</a>;
<a href=#sbom-software-bill-of-materials>SBOM</a></li><li><a href=https://discord.gg/WjBfs8rz>chat on Discord</a>;
<a href=https://github.com/volution/z-run/discussions/categories/discussions>discuss on GitHub</a>;
<a href=mailto:ciprian.craciun@gmail.com>email author</a>;</li><li>source code at <a href=https://github.com/volution/z-run>https://github.com/volution/z-run</a></li></ul></blockquote><hr><h2>About</h2><p>The best way to describe <code>z-run</code>, is to look at a simple example
(you know, "a snippet is worth a thousand man-pages"):</p><pre><code>&lt;&lt; hello world (in shell)
	echo &quot;hello world!&quot;
!!
&lt;&lt; hello world (in Python)
	#! &lt;python3&gt;
	print(&quot;hello world!&quot;)
!!
&lt;&lt; hello world (in PHP)
	#! &lt;php&gt;
	&lt;?php print(&quot;hello world!&quot;) ?&gt;
!!

:: ping / google :: z-run ':: ping / *' 8.8.8.8
:: ping / cloudflare :: z-run ':: ping / *' 1.1.1.1
--&lt;&lt; ping / *
	ping &quot;${@}&quot;
!!

&lt;&lt; ip / addr / show
	ip --json addr show \
	| z-run ':: ip / addr / show / jq'
!!
--&lt;&lt; ip / addr / show / jq
	#! &lt;jq&gt; -r
	.[]
	| select (.addr_info != [])
	| .ifname as $ifname
	| .addr_info[]
	| [$ifname, .family, .local]
	| @tsv
!!
</code></pre><p>Provided that
one has saved the above into <code>_z-run</code> (in the current folder),
and has copied the <code>z-run</code> executable somewhere in the <code>$PATH</code>,
then one can just run <code>z-run</code> (in the current folder),
and be presented with the following menu,
from where one can select a scriptlet to be executed:</p><pre><code>  ping / google
  ping / cloudflare
  ip / addr / show
  hello world (in shell)
  hello world (in Python)
&gt; hello world (in PHP)
  7/7
: _
</code></pre><p>In a few sentences,
<code>z-run</code> is a lightweight and portable tool
that allows one to create and execute a library of scripts,
by mix-and-matching multiple languages,
from <code>bash</code>, Python, Ruby, PHP, up-to <code>jq</code>, <code>make</code> and <code>ninja</code>.</p><p>It works based on the observation that
the majority of interpreters can take as argument
a path that points to the file to be executed.
Based on this, when <code>z-run</code> is called to execute a scriptlet,
it creates a temporary file (and if small enough just a pipe),
and then calls the delegated interpreter.</p><p>Thus, <code>z-run</code> fulfills the following basic goals:</p><ul><li>allows one to easily author small scriptlets,
independent of the interpreter,
all in one file (or a small set of files);</li><li>presents the user with a <code>fzf</code>-based menu,
that allows one to easily select a scriptlet for execution;</li><li>bootstraps the required script and environment for the actual interpreter;</li><li>delegates the scriptlet execution to the actual interpreter;</li></ul><p>Besides this, <code>z-run</code> also fulfills the following advanced goals:</p><ul><li>allows generating the library at compile-time;
(sort of like macro expansion, but at a much lower level;)</li><li>provides a built-in templating language;
(especially useful in the previous feature;)</li><li>provides remote execution of scriptlets over SSH,
without any additional requirements than
having <code>z-run</code> deployed on the remote machine;</li></ul><hr><h2>Status</h2><p>Currently, <code>z-run</code> is still in a pre-release state,
perhaps somewhere between a beta and a release-candidate.</p><p>There is no promise of backward or forward compatibility,
there is little documentation (besides the examples),
there is no testing harness,
and there is no roadmap.</p><p>However, <strong>I do use it personally for all my scripting tasks</strong>,
from project development to automation.
Moreover, <strong>I do also use it in production for various operational tasks</strong>,
from driving Ansible and LetsEncrypt, to remote execution.</p><p>Also see the "<a href=#how-is-it-tested>How is it tested?</a>",
"<a href=#how-quick-are-issues-fixed>How quick are issues fixed?</a>",
"<a href=#how-to-ask-for-help>How to ask for help?</a>",
and "<a href=#how-to-get-commercial-support>How to get commercial support?</a>"
questions in the FAQ section.</p><p>Here are some examples of where it is used:</p><ul><li><p><a href=https://github.com/volution/z-run/tree/development/scripts>z-run</a>
(this tool itself)
-- used for all project development tasks (from building and testing to publishing);</p></li><li><p><a href=https://github.com/volution/z-scratchpad/tree/master/scripts>z-scratchpad</a>
(wiki-like and notes tool)
-- used for all project development tasks;</p></li><li><p><a href=https://github.com/volution/kawipiko/tree/development/scripts>kawipiko</a>
(static HTTP server using CDB)
-- used for all project development tasks;</p></li><li><p><a href=https://github.com/volution/vonuvoli-scheme/tree/development/scripts>vonuvoli</a>
(R7RS Scheme interpreter)
-- used for all project development tasks, plus building remote building;</p></li><li><p><a href=https://github.com/volution/volution-md5-tools/tree/master/scripts>md5-tools</a>
(MD5/SHA*/Blake*/etc. recursive parallel hasher)
-- used for all project development tasks;</p></li><li><p><a href=https://github.com/cipriancraciun/covid19-datasets/tree/master/scripts>covid19-datasets</a>
(derived and augmented COVID19 datasets based on JHU and NY-Times)
-- used for all workflow aspects, from downloading, cleaning, merging, and publishing;
(it drives <code>ninja</code>, <code>jq</code>, Python and Julia; running everything remotely on a dedicated server;)</p></li><li><p><a href=https://github.com/console9/hyper-simple-server/tree/master/scripts>hyper-simple-server</a> and
<a href=https://github.com/console9/hyper-static-server/tree/master/scripts>hyper-static-server</a>
(low-level HTTP servers written in Rust based on <code>hyper</code>)
-- used for all project development tasks;</p></li></ul><p>Besides these few public examples, all my development projects (personal or professional)
have their <code>z-run</code> scripts.
I have even built a simple map-reduce framework to handle offline log processing.</p><hr><h2>Manual</h2><p>At the moment, the documentation is quite scarce...</p><p>One can consult the following resources:</p><ul><li>the <code>z-run</code> draft help in <a href=https://github.com/volution/z-run/tree/development/documentation/help/z-run.txt>documentation/help/z-run.txt</a>;</li><li>the <code>z-run</code> draft manual in <a href=https://github.com/volution/z-run/tree/development/documentation/manual/z-run.1.ronn>documentation/manual/z-run.1.ronn</a>;</li><li><code>z-run --help</code>, <code>z-run --manual</code>, and <code>z-run --readme</code>;
(the above files and this readme are embedded in the executable itself;)
(there is also <code>--manual-man</code>, <code>--manual-html</code>, and <code>--readme-html</code> for <code>man</code> / HTML formats;)</li><li>the various example files in <a href=https://github.com/volution/z-run/tree/development/examples>examples</a>, which expose most of the basic and advanced <code>z-run</code> features;</li><li>the scripts folders linked-at in the <a href=#status>status</a> section;</li><li>the simple snippets in the <a href=#examples>examples</a> section;</li></ul><hr><h2>Examples</h2><blockquote><p><strong>For the moment, this section shall also serve as a manual.</strong></p></blockquote><h3>Introduction</h3><p>Prerequisites:</p><ul><li>having <code>z-run</code> deployed somewhere on the <code>$PATH</code>;
(it is recommended to place it in <code>/usr/local/bin</code>;)</li><li>nothing else!</li></ul><p>Terminology:</p><ul><li><p>scriptlet
-- a small and simple script,
executed by an interpreter (<code>bash</code>, Python, <code>jq</code>, etc.),
focusing on one single well-defined task,
delegating more lower-level tasks to other scriptlets;
(you know, follow the old UNIX philosophy of KISS, "<a href=https://en.wikipedia.org/wiki/KISS_principle>keep-it-simple-stupid</a>",
or its more civilized variant "<a href=https://en.wikipedia.org/wiki/Unix_philosophy#Do_One_Thing_and_Do_It_Well>do one thing and do it well</a>",
and use a "<a href=https://en.wikipedia.org/wiki/Top-down_and_bottom-up_design#Programming>top-down structured programming</a>" approach;)</p></li><li><p>scriptlet label
-- the unique identifier of the scriptlet,
usually in a hierarchical form like <code>category / subcategory / task</code>;
this is used when invoking a scriptlet as in <code>z-run ':: category / subcategory / task'</code>;</p></li><li><p>scriptlet body
-- the source code of the scriptlet,
passed by <code>z-run</code> to the delegated interpreter;
<code>z-run</code> doesn't look, change, or care what is inside the body;
it is taken verbatim, without any expansions or changes;
(it only must be a valid UTF-8 text;)</p></li><li><p>library
-- a set of related scriptlets,
managed by <code>z-run</code>;</p></li><li><p>workbench
-- <code>z-run</code> allows one to have multiple self-contained scriptlet libraries,
therefore, the folder where such library resides is called a workbench;
however a workbench can contain other files,
perhaps files the scriptlets require or operate on;
for example in case of development projects,
the library can be placed inside the <code>scripts</code> folder,
but the workbench is the entire project folder;</p></li><li><p>library source file
-- the library is compiled from a set of source files;
each can contain one or multiple scriptlets;
each can include one or multiple other source files;</p></li></ul><p>Behavior:</p><ul><li><p><code>z-run</code> should be executed in the workbench folder;
(thus the current folder is usually the workbench folder;)</p></li><li><p><code>z-run</code> searches the workbench folder for scriptlets based on the following rules:</p><ul><li>first it tries to see if there is a <code>z-run</code>, <code>zrun</code>, <code>scriptlets</code>, <code>scripts</code>, or <code>bin</code> folder;
(perhaps prefixed by <code>_</code> or <code>.</code>, as in <code>z-run</code>, <code>_z-run</code>, or <code>.z-run</code>;)</li><li>if none such folder exists, it assumes that the workbench folder is the basis for the library;</li><li>then given the folder previously identified, it tries to see if there is a <code>z-run</code> or <code>zrun</code> file;
(perhaps prefixed by <code>_</code> or <code>.</code>, as in <code>z-run</code>, <code>_z-run</code>, or <code>.z-run</code>;)</li><li>if none such file exists, it then tries from the first step, but looking into <code>.git</code>, <code>.hg</code>, <code>.svn</code>, <code>.bzr</code>, <code>.darcs</code>;
(this allows one to hide <code>z-run</code> scripts inside the VCS folder;)</li></ul></li><li><p><code>z-run</code> only accepts valid UTF-8 files for the library source;</p></li><li><p><code>z-run</code> is quite "white-space" sensitive;
(inside the scriptlet body it doesn't care;)</p></li><li><p><code>z-run</code> always handles source files relative to the workbench folder;</p></li><li><p><code>z-run</code> always executes scriptlets in the workbench folder;</p></li></ul><p>Suggestions:</p><ul><li><p>although scriptlets can take arguments,
if based on an argument the behavior changes radically,
consider splitting that into two different scriptlets;</p></li><li><p>have each scriptlet focus on a single well-defined task,
consider delegating lower-level tasks to other scriptlets;</p></li><li><p>instead of having complex shell pipe-lines,
consider extracting part of a pipe-line into a dedicated scriptlet;</p></li><li><p>if the same snippet of code repeats multiple times,
consider extracting it into a dedicated scriptlet;</p></li><li><p>if some scriptlets are not meant to be executed directly,
consider hiding them from the main menu,
by either catching them in sub-menus,
or by completely hiding them by prefixing them with <code>--</code>,
as in <code>--:: some-category / some-very-low-level-task :: ...</code>;</p></li><li><p>many times the main purpose of a scriptlet is
to just prepare the environment for another tool,
and as the last action just executing that tool;
in this case consider using <code>exec some-tool ...</code>,
thus replacing the interpreter process with that tool's process;
( else one would end-up with a tree of processes that just wait for one-another;)</p></li></ul><hr><h3>Creating the library of scriptlets</h3><p><code>z-run</code> uses a simple syntax, one perhaps similar to <code>make</code>:</p><ul><li><p>each library source file contains a sequence of scriptlets (label and body),
or a set of directives (including other source files, changing the environment, etc.);</p></li><li><p>scriptlets can be written in one line
by using the following syntax,
where the <code>scriptlet label</code> can't contain <code>::</code>,
and the interpreter is assumed to be <code>bash</code>:</p></li></ul><pre><code>:: scriptlet label :: scriptlet body
</code></pre><ul><li>scriptlets can be written on multiple lines
by using the following syntax,
where the <code>scriptlet label</code> can't contain <code>::</code>,
the <code>scriptlet body</code> must be indented
(tabs or spaces doesn't matter, just be consistent)
(the first indentation level will be removed when sent to the interpreter),
and the interpreter is assumed to be <code>bash</code>:</li></ul><pre><code>&lt;&lt; scriptlet label
	scriptlet body line 1
	scriptlet body line 2
	...
!!
</code></pre><ul><li>scriptlets can have other interpreters than <code>bash</code>
by using the following syntax,
just like the <code>#!</code> file header in normal scripts
(mind the spaces between <code>#!</code> and the rest of that line):</li></ul><pre><code>&lt;&lt; something in bash (A)
	...
!!
&lt;&lt; something in bash (B)
	#! &lt;bash&gt;
	...
!!
&lt;&lt; something in Python (A)
	#! &lt;python2&gt;
	...
!!
&lt;&lt; something in Python (B)
	#! &lt;python3&gt;
	...
!!
&lt;&lt; something in jq (with extra arguments)
	#! &lt;jq&gt; --slurp --raw-output
	...
!!
&lt;&lt; something in custom interpreter (A)
	#! my-custom-interpreter
	...
!!
&lt;&lt; something in custom interpreter (B)
	#! /usr/local/bin/my-custom-interpreter
!!
</code></pre><ul><li>scriptlets can be excluded from the library
(mind the two <code>##</code> just before <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>##:: this scriptlet is ignored (A) :: ...

##&lt;&lt; this scriptlet is ignored (B)
	...
!!
</code></pre><ul><li>arbitrary multi-line comments can be written
(mind the <code>##{{</code> and <code>##}}</code> that must start on the first column):</li></ul><pre><code>##{{

some text that doesn't contain ##}}

##}}
</code></pre><ul><li>scriptlets can be hidden from the main menu
(mind the two <code>--</code> just before <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>--:: this scriptlet is hidden (A) :: ...

--&lt;&lt; this scriptlet is hidden (B)
	...
!!
</code></pre><ul><li>scriptlets can be gathered in sub-menus
(mind the <code>//</code> just after the <code>::</code>);
the <code>...</code> suffix gathers all scriptlets having that prefix (except <code>...</code>)
under that sub-menu, and hides them from the main menu;
the <code>*</code> suffix also gathers all scriptlets having that prefix (except <code>*</code>),
under that sub-menu, but doesn't hide them from the main menu;
the <code>::// *</code> entry is just a sub-menu that contains all other scriptlets:</li></ul><pre><code>::// category-a / ...
::// category-b / *
::// *

:: category-a / scriptlet-1 :: ...
:: category-a / scriptlet-2 :: ...
:: category-b / scriptlet-1 :: ...
:: category-b / scriptlet-2 :: ...
</code></pre><ul><li>scriptlets can be forced in the main menu
(mind the <code>++</code> just before <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>++:: this scriptlet is forced (A) :: ...

++&lt;&lt; this scriptlet is forced (B)
!!
</code></pre><ul><li>environment variables can be defined to string values:</li></ul><pre><code>&amp;&amp;== env SOME_ENV some-value
</code></pre><ul><li>environment variables can be defined to absolute paths:</li></ul><pre><code>&amp;&amp;== env SOME_PATH ./relative-path
</code></pre><ul><li>the <code>$PATH</code> environment variable can be appended with absolute paths:</li></ul><pre><code>&amp;&amp;== path ./bin
</code></pre><ul><li>environment variables, similar to <code>$PATH</code>, can be appended with absolute paths:</li></ul><pre><code>&amp;&amp;== env-path-append SOME_ENV_LIKE_PATH ./bin
</code></pre><ul><li>environment variables can be removed:</li></ul><pre><code>&amp;&amp;== env-exclude SOME_ENV_1 SOME_ENV_2
</code></pre><ul><li>environment variables can be provided with defaults:</li></ul><pre><code>&amp;&amp;== env-fallback SOME_ENV default-value
</code></pre><ul><li>other library source files can be included:</li></ul><pre><code>&amp;&amp; _/file-relative-to-the-current-source-file-parent
&amp;&amp; ./file-relative-to-the-current-workbench-folder
&amp;&amp; /file-with-absolute-path

&amp;&amp;?? _/file-that-might-not-exist
&amp;&amp;?? ./file-that-might-not-exist
</code></pre><p><strong>TBD:</strong></p><ul><li>scriptlets bodies from files;</li><li>scriptlets replacement bodies;</li><li>single-line scriptlets with custom interpreter;</li><li>complex sub-menus;</li><li>scriptlets generators;</li><li>depending on files or folders without including them (useful for generators);</li><li>using print scriptlets;</li><li>using template scriptlets;</li><li>using the <code>bash+</code> interpreter extension;</li><li>using the <code>python3+</code> interpreter extension;</li><li>using the <code>go</code> interpreter;</li><li>using the <code>go+</code> interpreter;</li><li>using the <code>starlark</code> interpreter;</li><li>environment variables values substitutions;</li><li>included source file paths substitutions;</li></ul><hr><h3>Using the library of scriptlets from the console</h3><ul><li>showing the main menu:</li></ul><pre><code>z-run
</code></pre><ul><li>showing a sub-menu
(the label must exactly match how it was defined,
that is with <code>...</code> or <code>*</code> suffix):</li></ul><pre><code>z-run ':: category-a / ...'
z-run ':: category-b / *'
z-run ':: *'
</code></pre><ul><li>executing a scriptlet
(the <code>::</code> is mandatory, regardless of how the scriptlet was defined,
with <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>z-run ':: category-a / scriptlet-1'
z-run ':: category-b / scriptlet-2' some-argument ...
</code></pre><ul><li>listing all the scriptlet labels:</li></ul><pre><code>z-run list
</code></pre><ul><li>select a scriptlet from the menu,
and print its label:</li></ul><pre><code>z-run select-label
</code></pre><ul><li>select a scriptlet from the menu,
and print its body:</li></ul><pre><code>z-run select-body
</code></pre><p><strong>TBD:</strong></p><ul><li>compiling libraries and using them;</li><li>executing remote scriptlets over SSH;</li><li>using a library as a standalone tool with <code>z-run --exec</code>;</li><li>executing standalone scriptlets with <code>z-run --scriptlet</code>;</li><li>executing standalone scriptlets with <code>z-run --scriptlet-exec</code>;</li><li>executing standalone templates with <code>z-run --template</code>;</li><li><code>z-run --input</code>, <code>z-run --select</code>, and <code>z-run --fzf</code>;</li><li><code>z-run --shell</code>;</li><li><code>z-run --export=shell-functions</code>;</li><li><code>z-run --version</code>;</li><li><code>z-run --help</code>;</li><li><code>z-run --manual</code>;</li><li><code>z-run --manual-man</code>;</li><li><code>z-run --manual-html</code>;</li><li><code>z-run --readme</code>;</li><li><code>z-run --readme-html</code>;</li><li><code>z-run --sbom</code>;</li><li><code>z-run --sbom-html</code>;</li><li><code>z-run --sbom-json</code>;</li><li><code>z-run --sources-md5</code>;</li><li><code>z-run --sources-cpio | gunzip | cpio -i -t</code>;</li></ul><hr><h2>Installation</h2><h3>Download prebuilt executables</h3><p>One should see the <a href=https://github.com/volution/z-run/releases>releases page on GitHub</a>,
where pre-built executables (only Intel 64bit architectures) are available for:</p><ul><li>Linux (the main development and testing environment) --<br><a href=https://github.com/volution/z-run/releases/download/v0.19.1/z-run--linux--v0.19.1>https://github.com/volution/z-run/releases/download/v0.19.1/z-run--linux--v0.19.1</a></li><li>OSX (only Intel CPU's) (the second targeted environment) --<br><a href=https://github.com/volution/z-run/releases/download/v0.19.1/z-run--darwin--v0.19.1>https://github.com/volution/z-run/releases/download/v0.19.1/z-run--darwin--v0.19.1</a></li><li>OpenBSD (seldom tested) --<br><a href=https://github.com/volution/z-run/releases/download/v0.19.1/z-run--openbsd--v0.19.1>https://github.com/volution/z-run/releases/download/v0.19.1/z-run--openbsd--v0.19.1</a></li><li>FreeBSD (seldom tested) --<br><a href=https://github.com/volution/z-run/releases/download/v0.19.1/z-run--freebsd--v0.19.1>https://github.com/volution/z-run/releases/download/v0.19.1/z-run--freebsd--v0.19.1</a></li></ul><p>Also, each of these files are signed with my PGP key <code>5A974037A6FD8839</code>, thus do check the signature.</p><p>For example:</p><ul><li>import my PGP key:</li></ul><pre><code>curl -s https://github.com/cipriancraciun.gpg | gpg2 --import
</code></pre><pre><code>gpg: key 5A974037A6FD8839: public key &quot;Ciprian Dorin Craciun &lt;ciprian@volution.ro&gt;&quot; imported
gpg: Total number processed: 1
gpg:               imported: 1
</code></pre><ul><li>download the executable and signature (replace the <code>linux</code> token with <code>darwin</code> (for OSX), <code>freebsd</code> or <code>openbsd</code>):</li></ul><pre><code>curl \
        -s -S -f -L \
        -o /tmp/z-run \
        https://github.com/volution/z-run/releases/download/v0.19.1/z-run--linux--v0.19.1 \
#

curl \
        -s -S -f -L \
        -o /tmp/z-run.asc \
        https://github.com/volution/z-run/releases/download/v0.19.1/z-run--linux--v0.19.1.asc \
#
</code></pre><ul><li>verify the executable:</li></ul><pre><code>gpg2 --verify /tmp/z-run.asc /tmp/z-run
</code></pre><ul><li><strong>check that the key is <code>58FC2194FCC2478399CB220C5A974037A6FD8839</code></strong>:</li></ul><pre><code>gpg: assuming signed data in '/tmp/z-run'
gpg: Signature made Sun Oct  3 21:49:50 2021 EEST
gpg:                using DSA key 58FC2194FCC2478399CB220C5A974037A6FD8839
gpg: Good signature from &quot;Ciprian Dorin Craciun &lt;ciprian@volution.ro&gt;&quot; [unknown]
gpg:                 aka &quot;Ciprian Dorin Craciun &lt;ciprian.craciun@gmail.com&gt;&quot; [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 58FC 2194 FCC2 4783 99CB  220C 5A97 4037 A6FD 8839
</code></pre><ul><li>change the executable permissions:</li></ul><pre><code>chmod a=rx /tmp/z-run
</code></pre><ul><li>copy the executable on the <code>$PATH</code>:</li></ul><pre><code>sudo cp /tmp/z-run /usr/local/bin/z-run
</code></pre><ul><li>check that it works:</li></ul><pre><code>z-run --version
</code></pre><pre><code>* tool          : z-run
* version       : 0.19.1
* executable    : /usr/local/bin/z-run
* build target  : release, linux-amd64, go1.18.3, gc
* build number  : 12286, 2022-07-26-10-01-10
* code &amp; issues : https://github.com/volution/z-run
* sources git   : 4420e1f27c2480595ac98e409727c6810498710b
* sources hash  : daf4d73647bc52c3efe3f60f7711439a
* uname node    : some-workstation
* uname system  : Linux, 5.18.4-1-default, x86_64
* uname hash    : 636fe534b72441e2ccb478f9bd56d653
</code></pre><h3>Build from sources</h3><p>Go is a prerequisite;
one can install it from any Linux or BSD package manager,
or OSX's <code>brew</code>,
or just downloading it from <a href=https://golang.org/dl>https://golang.org/dl</a>.</p><p>The first step is preparing the environment:</p><pre><code>mkdir \
        /tmp/z-run \
        /tmp/z-run/bin \
        /tmp/z-run/src \
        /tmp/z-run/go \
#
</code></pre><p>The second step is cloning the Git repository:</p><pre><code>git clone \
        --branch development \
        --depth 1 \
        http://github.com/volution/z-run.git \
        /tmp/z-run/src \
#
</code></pre><p>Alternatively, one can just fetch the sources bundle:</p><pre><code>curl \
        -s -S -f -L \
        -o /tmp/z-run/src.tar.gz \
        https://github.com/volution/z-run/archive/refs/heads/development.tar.gz \
#

tar \
        -x -z \
        -f /tmp/z-run/src.tar.gz \
        -C /tmp/z-run/src \
        --strip-components 1 \
#
</code></pre><p>Finally, compiling the <code>z-run</code> executable:</p><pre><code>cd /tmp/z-run/src/sources

env \
        GOPATH=/tmp/z-run/go \
go build \
        -tags 'netgo' \
        -gcflags 'all=-l=4' \
        -ldflags 'all=-s' \
        -trimpath \
        -o /tmp/z-run/bin/z-run \
        ./cmd/z-run.go \
#
</code></pre><p>Optionally, deploying the <code>z-run</code> executable:</p><pre><code>sudo \
cp \
        /tmp/z-run/bin/z-run \
        /usr/local/bin/z-run \
#
</code></pre><p>Optionally, check that <code>z-run</code> works:</p><pre><code>z-run --version
</code></pre><pre><code>* tool          : z-run
* version       : 0.19.0
* executable    : /usr/local/bin/z-run
* build target  : release, linux-amd64, go1.17.6, gc
* build number  : 12170, 2022-01-19-23-30-43
* code &amp; issues : https://github.com/volution/z-run
* sources git   : a6e6ce1dbd63eb871ad0280d6dbafdbc9e7960d9
* sources hash  : d7ba8be84e85329ac187984750ecd242
* uname node    : some-workstation
* uname system  : Linux, 5.15.6-1-default, x86_64
* uname hash    : 7c8643e588e6fbb4063d2643de27c39b
</code></pre><hr><h2>FAQ</h2><h3>How to ask for help?</h3><p>If you have encountered a bug,
just use the <a href=https://github.com/volution/z-run/issues>GitHub issues</a>.</p><p>If you are not sure about something,
want to give feedback,
or request new features,
just use the <a href=https://github.com/volution/z-run/discussions/categories/discussions>GitHub discussions</a>.</p><p>If you want to ask a quick question,
or just have a quick chat,
just head over to the <a href=https://discord.gg/d5J8bfUnxW>Discord channel</a>.</p><h3>How is it tested?</h3><p>I use it myself every day,
in almost every task that involves my laptop,
from projects development,
to production operations,
application launching,
and even for auto-completion in the editor.</p><p>Most of my use-cases use many of the advanced features,
thus most corner-cases are well covered.</p><h3>How quick are issues fixed?</h3><p>As stated in the previous answer,
because I use <code>z-run</code> myself for everything,
any major issue means I can't do my work;
thus I need to stop everything
and just fix the issue.</p><p>As a consequence, the turn-around-time is quite small.</p><h3>How to get commercial support?</h3><p>If you want to use <code>z-run</code> in production,
and want to be sure that you are using it correctly,
or just want to be sure that issues (or features) that you need get prioritized,
I own a European limited-liability company
so just <a href=mailto:ciprian.craciun@gmail.com>email me</a>,
and we can discuss the options.</p><h3>Why <code>z-run</code> instead of classical scripts?</h3><p>What sets <code>z-run</code> aside from a classical scripts is this:</p><ul><li><p>first, it allows one to easily mix multiple languages;
for example one can easily write a shell script that chains together a Python, Ruby and another shell script,
all within the same file, without having to resort to here-documents or quoting;
(with classical scripts, one would have had to create multiple files,
one for each language,
and explicitly invoke them via the interpreter;)</p></li><li><p>it allows one to easily bundle together unrelated scripts;
for example say one uses <code>z-run</code> to aid in the development process,
then one could bundle together scripts related to
compiling, testing, deploying, and other single-shot shortcuts in the same file;
(with classical scripts, one would usually have to put each of these in separate files,
or by using <code>case</code> or <code>function</code> try to manage them inside a reduced set of files;)</p></li><li><p>it allows one to easily invoke scriptlets from within the same library,
without caring what language they are written in,
or where their source code is stored;
(with classical scripts, one has to take care of getting the paths to other scripts right,
especially when running from a different folder than the original one;)</p></li></ul><p>However, <code>z-run</code> takes it a step further by offering the following functionalities:</p><ul><li><p>hierarchical menus
-- by simply calling <code>z-run</code> without any arguments,
it presents one with a selectable menu of all the scriptlets in the library,
and after one selects a scriptlet, it executes it;
moreover one can group various scriptlets under other sub-menus,
thus allowing arbitrary nesting and navigation;
(when used from a terminal, <code>z-run</code> uses and embedded <code>fzf</code>-based UI;
when used from outside a terminal, <code>z-run</code> tries to use
<code>z-run--select</code> (any system),
<code>rofi</code> or <code>dmenu</code> (under Linux and BSD's),
or <code>choose</code> (under OSX);)</p></li><li><p>environment variables management
-- by allowing certain environment variables to be
overridden, removed or appended (like in the case of <code>$PATH</code>);
(with classical scripts, one has to manage these by themselves,
resort to various "envdir" tools,
or interact with shell magic;)</p></li><li><p>SSH-based remote execution
-- one can easily execute a given scriptlet on a remote server
without having to previously copy anything there;
moreover, once the scriptlet is executing on the remote server,
it can invoke other scriptlets from the library that are also to be executed remotely;
(the only requirement is having <code>z-run</code> installed on the remote machine;)</p></li><li><p>scriptlets generation
-- one can easily write a scriptlet that generates <code>z-run</code> compliant source,
thus generating other scriptlets based on arbitrary criteria;
(for example one could write a scriptlet that generates other scriptlets specific for each file in a given folder;)</p></li><li><p>library compiling
-- one can easily create a single file that contains the entire library,
which can then be moved and used in another place;</p></li><li><p>Go-based templates
-- that are useful especially in generating other scriptlets;</p></li></ul><h3>What is the performance?</h3><p><code>z-run</code> is designed to support thousands (and in extreme cases tens of thousands) of scriptlets,
especially when scriptlet generation is used.
For example:</p><ul><li>my own COVID19 workbench has ~20K scriptlets;</li><li>my own photography workbench has ~47K scriptlets;</li><li>and a production operations workbench has ~4K scriptlets;</li></ul><p>Therefore, <code>z-run</code> has built-in optimizations
to cache the library contents (without any regeneration),
unless any of the following conditions are met:</p><ul><li>any of the files that comprise the source code of the library are changed;
(based both on file timestamps and contents hashing;)</li><li>any of the environment variables change;</li><li>a different version of <code>z-run</code> is installed;
(this covers both upgrading and downgrading;)</li></ul><p>However, once a scriptlet is executed,
it and any other invoked scriptlets
will use exactly the same cached library contents.
Thus, it is safe to change the source code of the library
while a scriptlet is executing
(unlike shell scripts,
that because the shell reads one line at a time in a read-eval-loop,
it thus trips if the script is changed beyond the currently executed line).</p><h3>Why Go?</h3><p>Because Go is highly portable, highly stable,
and especially because it can easily support
cross-compiling statically linked executables
to any platform it supports.</p><h3>Why not Rust?</h3><p>Because Rust fails to easily support
cross-compiling (statically or dynamically linked) executables
to any platform it supports.</p><p>Because Rust is less portable than Go;
for example, Rust doesn't consider OpenBSD as a "tier-1" platform.</p><h3>What other open-source code does it depend on?</h3><ul><li><a href=https://github.com/junegunn/fzf>fzf</a>
(via my custom <a href=https://github.com/cipriancraciun/fzf>fork</a>);</li><li><a href=https://github.com/colinmarc/cdb>cdb</a>
(via my custom <a href=github.com/cipriancraciun/go-cdb-lib>fork</a>);</li><li><a href=github.com/jessevdk/go-flags>go-flags</a>;</li><li><a href=github.com/peterh/liner>liner</a>;</li><li>also see the <a href=https://github.com/volution/z-run/tree/development/sources/go.mod>go.mod</a> file
for other minor dependencies;</li></ul><h3>Some related readings...</h3><ul><li><a href=https://slack.engineering/development-environments-at-slack/>Development Environments at Slack</a></li></ul><hr><h2>Notice (copyright and licensing)</h2><h3>Authors</h3><p>Ciprian Dorin Craciun:</p><ul><li><a href=mailto:ciprian@volution.ro>ciprian@volution.ro</a> or <a href=mailto:ciprian.craciun@gmail.com>ciprian.craciun@gmail.com</a></li><li><a href=https://volution.ro/ciprian>https://volution.ro/ciprian</a></li><li><a href=https://github.com/volution>https://github.com/volution</a></li><li><a href=https://github.com/cipriancraciun>https://github.com/cipriancraciun</a></li></ul><p>Please also see the <a href=https://github.com/volution/z-run/tree/development/documentation/sbom/sbom.md>SBOM (Software Bill of Materials)</a>
for links this project's dependencies and their authors.</p><h3>Notice -- short version</h3><p>The code is licensed under GPL 3 or later.</p><p>This is the same license as used by
Linux, Git, MySQL/MariaDB, WordPress, F-Droid,
and many other projects.</p><p>If you <strong>change</strong> the code within this repository
and use it for <strong>non-personal</strong> purposes,
you'll have to release the changed source code as per GPL.</p><h3>Notice -- long version</h3><p>For details about the copyright and licensing,
please consult the <a href=https://github.com/volution/z-run/tree/development/documentation/licensing/notice.txt>notice.txt</a> file
in the <a href=https://github.com/volution/z-run/tree/development/documentation/licensing>documentation/licensing</a> folder.</p><p>If someone requires the sources and/or documentation to be released
under a different license, please email the authors,
stating the licensing requirements, accompanied by the reasons
and other details; then, depending on the situation, the authors might
release the sources and/or documentation under a different license.</p><h3>SBOM (Software Bill of Materials)</h3><p>This project, like many other open-source projects,
incorporates code from other open-source projects
(besides other tools used to develop, build and test).</p><p>Strictly related to the project's dependencies (direct and transitive),
please see the <a href=https://github.com/volution/z-run/tree/development/documentation/sbom/sbom.md>SBOM (Software Bill of Materials)</a>
for links to these dependencies and their licenses.</p></main></body></html>