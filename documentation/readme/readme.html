<!doctype html><html><head><title>z-run</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href="data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 24 24%22%3E%3Cg data-name=%22Layer 2%22%3E%3Cg data-name=%22file-text%22%3E%3Crect width=%2224%22 height=%2224%22 opacity=%220%22/%3E%3Cpath d=%22M15 16H9a1 1 0 000 2h6a1 1 0 000-2z%22/%3E%3Cpath d=%22M9 14h3a1 1 0 000-2H9a1 1 0 000 2z%22/%3E%3Cpath d=%22M19.74 8.33l-5.44-6A1 1 0 0013.56 2h-7A2.53 2.53.0 004 4.5v15A2.53 2.53.0 006.56 22h10.88A2.53 2.53.0 0020 19.5V9a1 1 0 00-.26-.67zM14 5l2.74 3h-2A.79.79.0 0114 7.15zm3.44 15H6.56A.53.53.0 016 19.5v-15a.53.53.0 01.56-.5H12v3.15A2.79 2.79.0 0014.71 10H18v9.5a.53.53.0 01-.56.5z%22/%3E%3C/g%3E%3C/g%3E%3C/svg%3E"><style>.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body .anchor{float:left;line-height:1;margin-left:-20px;padding-right:4px}.markdown-body .anchor:focus{outline:none}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1b1f23;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:' ';display:inline-block;background-image:url("data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 16 16%22 width=%2216%22 height=%2216%22 aria-hidden=%22true%22%3E%3Cpath fill-rule=%22evenodd%22 d=%22M4 9h1v1H4c-1.5.0-3-1.69-3-3.5S2.55 3 4 3h4c1.45.0 3 1.69 3 3.5.0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98.0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98.0-2-1.22-2-2.5.0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45.0 3-1.69 3-3.5S14.5 6 13 6z%22/%3E%3C/svg%3E")}.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;line-height:1.5;color:#24292e;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body details{display:block}.markdown-body summary{display:list-item}.markdown-body a{background-color:initial}.markdown-body a:active,.markdown-body a:hover{outline-width:0}.markdown-body strong{font-weight:inherit;font-weight:bolder}.markdown-body h1{font-size:2em;margin:.67em 0}.markdown-body img{border-style:none}.markdown-body code,.markdown-body kbd,.markdown-body pre{font-family:monospace,monospace;font-size:1em}.markdown-body hr{box-sizing:initial;height:0;overflow:visible}.markdown-body input{font:inherit;margin:0}.markdown-body input{overflow:visible}.markdown-body [type=checkbox]{box-sizing:border-box;padding:0}.markdown-body *{box-sizing:border-box}.markdown-body input{font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body a{color:#0366d6;text-decoration:none}.markdown-body a:hover{text-decoration:underline}.markdown-body strong{font-weight:600}.markdown-body hr{height:0;margin:15px 0;overflow:hidden;background:0 0;border:0;border-bottom:1px solid #dfe2e5}.markdown-body hr:after,.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{clear:both}.markdown-body table{border-spacing:0;border-collapse:collapse}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px #d1d5da}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:0;margin-bottom:0}.markdown-body h1{font-size:32px}.markdown-body h1,.markdown-body h2{font-weight:600}.markdown-body h2{font-size:24px}.markdown-body h3{font-size:20px}.markdown-body h3,.markdown-body h4{font-weight:600}.markdown-body h4{font-size:16px}.markdown-body h5{font-size:14px}.markdown-body h5,.markdown-body h6{font-weight:600}.markdown-body h6{font-size:12px}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0}.markdown-body ol,.markdown-body ul{padding-left:0;margin-top:0;margin-bottom:0}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ol ol ol,.markdown-body ol ul ol,.markdown-body ul ol ol,.markdown-body ul ul ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body code,.markdown-body pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0}.markdown-body input::-webkit-inner-spin-button,.markdown-body input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none;appearance:none}.markdown-body :checked+.radio-label{position:relative;z-index:1;border-color:#0366d6}.markdown-body .border{border:1px solid #e1e4e8!important}.markdown-body .border-0{border:0!important}.markdown-body .border-bottom{border-bottom:1px solid #e1e4e8!important}.markdown-body .rounded-1{border-radius:3px!important}.markdown-body .bg-white{background-color:#fff!important}.markdown-body .bg-gray-light{background-color:#fafbfc!important}.markdown-body .text-gray-light{color:#6a737d!important}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-top:8px!important;margin-bottom:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3,.markdown-body .px-3{padding-left:16px!important}.markdown-body .px-3{padding-right:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .f6{font-size:12px!important}.markdown-body .lh-condensed{line-height:1.25!important}.markdown-body .text-bold{font-weight:600!important}.markdown-body .pl-c{color:#6a737d}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#005cc5}.markdown-body .pl-e,.markdown-body .pl-en{color:#6f42c1}.markdown-body .pl-s .pl-s1,.markdown-body .pl-smi{color:#24292e}.markdown-body .pl-ent{color:#22863a}.markdown-body .pl-k{color:#d73a49}.markdown-body .pl-pds,.markdown-body .pl-s,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sra,.markdown-body .pl-sr .pl-sre{color:#032f62}.markdown-body .pl-smw,.markdown-body .pl-v{color:#e36209}.markdown-body .pl-bu{color:#b31d28}.markdown-body .pl-ii{color:#fafbfc;background-color:#b31d28}.markdown-body .pl-c2{color:#fafbfc;background-color:#d73a49}.markdown-body .pl-c2:before{content:"^M"}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#22863a}.markdown-body .pl-ml{color:#735c0f}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#005cc5}.markdown-body .pl-mi{font-style:italic;color:#24292e}.markdown-body .pl-mb{font-weight:700;color:#24292e}.markdown-body .pl-md{color:#b31d28;background-color:#ffeef0}.markdown-body .pl-mi1{color:#22863a;background-color:#f0fff4}.markdown-body .pl-mc{color:#e36209;background-color:#ffebda}.markdown-body .pl-mi2{color:#f6f8fa;background-color:#005cc5}.markdown-body .pl-mdr{font-weight:700;color:#6f42c1}.markdown-body .pl-ba{color:#586069}.markdown-body .pl-sg{color:#959da5}.markdown-body .pl-corl{text-decoration:underline;color:#032f62}.markdown-body .mb-0{margin-bottom:0!important}.markdown-body .my-2{margin-bottom:8px!important}.markdown-body .my-2{margin-top:8px!important}.markdown-body .pl-0{padding-left:0!important}.markdown-body .py-0{padding-top:0!important;padding-bottom:0!important}.markdown-body .pl-1{padding-left:4px!important}.markdown-body .pl-2{padding-left:8px!important}.markdown-body .py-2{padding-top:8px!important;padding-bottom:8px!important}.markdown-body .pl-3{padding-left:16px!important}.markdown-body .pl-4{padding-left:24px!important}.markdown-body .pl-5{padding-left:32px!important}.markdown-body .pl-6{padding-left:40px!important}.markdown-body .pl-7{padding-left:48px!important}.markdown-body .pl-8{padding-left:64px!important}.markdown-body .pl-9{padding-left:80px!important}.markdown-body .pl-10{padding-left:96px!important}.markdown-body .pl-11{padding-left:112px!important}.markdown-body .pl-12{padding-left:128px!important}.markdown-body hr{border-bottom-color:#eee}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;line-height:10px;color:#444d56;vertical-align:middle;background-color:#fafbfc;border:1px solid #d1d5da;border-radius:3px;box-shadow:inset 0 -1px #d1d5da}.markdown-body:after,.markdown-body:before{display:table;content:""}.markdown-body:after{clear:both}.markdown-body>:first-child{margin-top:0!important}.markdown-body>:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body blockquote,.markdown-body details,.markdown-body dl,.markdown-body ol,.markdown-body p,.markdown-body pre,.markdown-body table,.markdown-body ul{margin-top:0;margin-bottom:16px}.markdown-body hr{height:.25em;padding:0;margin:24px 0;background-color:#e1e4e8;border:0}.markdown-body blockquote{padding:0 1em;color:#6a737d;border-left:.25em solid #dfe2e5}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h1{font-size:2em}.markdown-body h1,.markdown-body h2{padding-bottom:.3em;border-bottom:1px solid #eaecef}.markdown-body h2{font-size:1.5em}.markdown-body h3{font-size:1.25em}.markdown-body h4{font-size:1em}.markdown-body h5{font-size:.875em}.markdown-body h6{font-size:.85em;color:#6a737d}.markdown-body ol,.markdown-body ul{padding-left:2em}.markdown-body ol ol,.markdown-body ol ul,.markdown-body ul ol,.markdown-body ul ul{margin-top:0;margin-bottom:0}.markdown-body li{word-wrap:break-all}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table{display:block;width:100%;overflow:auto}.markdown-body table th{font-weight:600}.markdown-body table td,.markdown-body table th{padding:6px 13px;border:1px solid #dfe2e5}.markdown-body table tr{background-color:#fff;border-top:1px solid #c6cbd1}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body img{max-width:100%;box-sizing:initial;background-color:#fff}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body code{padding:.2em .4em;margin:0;font-size:85%;background-color:rgba(27,31,35,5%);border-radius:3px}.markdown-body pre{word-wrap:normal}.markdown-body pre>code{padding:0;margin:0;font-size:100%;word-break:normal;white-space:pre;background:0 0;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px}.markdown-body pre code{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:initial;border:0}.markdown-body .commit-tease-sha{display:inline-block;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:90%;color:#444d56}.markdown-body .full-commit .btn-outline:not(:disabled):hover{color:#005cc5;border-color:#005cc5}.markdown-body .blob-wrapper{overflow-x:auto;overflow-y:hidden}.markdown-body .blob-wrapper-embedded{max-height:240px;overflow-y:auto}.markdown-body .blob-num{width:1%;min-width:50px;padding-right:10px;padding-left:10px;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;line-height:20px;color:rgba(27,31,35,.3);text-align:right;white-space:nowrap;vertical-align:top;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-body .blob-num:hover{color:rgba(27,31,35,.6)}.markdown-body .blob-num:before{content:attr(data-line-number)}.markdown-body .blob-code{position:relative;padding-right:10px;padding-left:10px;line-height:20px;vertical-align:top}.markdown-body .blob-code-inner{overflow:visible;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;font-size:12px;color:#24292e;word-wrap:normal;white-space:pre}.markdown-body .pl-token.active,.markdown-body .pl-token:hover{cursor:pointer;background:#ffea7f}.markdown-body .tab-size[data-tab-size="1"]{-moz-tab-size:1;tab-size:1}.markdown-body .tab-size[data-tab-size="2"]{-moz-tab-size:2;tab-size:2}.markdown-body .tab-size[data-tab-size="3"]{-moz-tab-size:3;tab-size:3}.markdown-body .tab-size[data-tab-size="4"]{-moz-tab-size:4;tab-size:4}.markdown-body .tab-size[data-tab-size="5"]{-moz-tab-size:5;tab-size:5}.markdown-body .tab-size[data-tab-size="6"]{-moz-tab-size:6;tab-size:6}.markdown-body .tab-size[data-tab-size="7"]{-moz-tab-size:7;tab-size:7}.markdown-body .tab-size[data-tab-size="8"]{-moz-tab-size:8;tab-size:8}.markdown-body .tab-size[data-tab-size="9"]{-moz-tab-size:9;tab-size:9}.markdown-body .tab-size[data-tab-size="10"]{-moz-tab-size:10;tab-size:10}.markdown-body .tab-size[data-tab-size="11"]{-moz-tab-size:11;tab-size:11}.markdown-body .tab-size[data-tab-size="12"]{-moz-tab-size:12;tab-size:12}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item+.task-list-item{margin-top:3px}.markdown-body .task-list-item input{margin:0 .2em .25em -1.6em;vertical-align:middle}</style><style>html:root,body{margin:0;padding:0;-webkit-text-size-adjust:100%;background:#22272e}.markdown-body{box-sizing:border-box;min-width:200px;max-width:980px;margin:0 auto;padding:45px;background:#fff}@media(max-width:800px){.markdown-body{padding:15px}}.markdown-body{filter:invert(1)}.markdown-body img{filter:invert(1)}</style><script>(function(){"use strict";function e(){if(window.location.search!="?reload")return;window.history.scrollRestoration!==void 0&&(window.history.scrollRestoration="auto"),window.history.go()}window.setTimeout(e,1e3)})()</script></head><body><main class=markdown-body><p><img src=./documentation/logo.png alt=logo></p><hr><h1><strong>z-run</strong> -- lightweight Go-based scripts library tool</h1><blockquote><p>Table of contents:</p><ul><li><a href=#manual>Manual</a> and <a href=#examples>Examples</a></li><li><a href=#installation>Installation</a> and <a href=#faq>FAQ</a></li><li><a href=#about>About</a>, <a href=#status>Status</a> and <a href=#notice-copyright-and-licensing>Copyright and licensing</a></li><li><a href=https://discord.gg/WjBfs8rz>chat on Discord</a>, <a href=https://github.com/volution/z-run/discussions/categories/discussions>discuss on GitHub</a>, or <a href=mailto:ciprian.craciun@gmail.com>email author</a></li></ul></blockquote><hr><h2>About</h2><p>The best way to describe <code>z-run</code>, is to look at a simple example
(you know, "a snippet is worth a thousand man-pages"):</p><pre><code>&lt;&lt; hello world (in shell)
	echo &quot;hello world!&quot;
!!
&lt;&lt; hello world (in Python)
	#! &lt;python3&gt;
	print(&quot;hello world!&quot;)
!!
&lt;&lt; hello world (in PHP)
	#! &lt;php&gt;
	&lt;?php print(&quot;hello world!&quot;) ?&gt;
!!

:: ping / google :: z-run ':: ping / *' 8.8.8.8
:: ping / cloudflare :: z-run ':: ping / *' 1.1.1.1
--&lt;&lt; ping / *
	ping &quot;${@}&quot;
!!

&lt;&lt; ip / addr / show
	ip --json addr show \
	| z-run ':: ip / addr / show / jq'
!!
--&lt;&lt; ip / addr / show / jq
	#! &lt;jq&gt; -r
	.[]
	| select (.addr_info != [])
	| .ifname as $ifname
	| .addr_info[]
	| [$ifname, .family, .local]
	| @tsv
!!
</code></pre><p>Provided that
one has saved the above into <code>_z-run</code> (in the current folder),
and has copied the <code>z-run</code> executable somewhere in the <code>$PATH</code>,
then one can just run <code>z-run</code> (in the current folder),
and be presented with the following menu,
from where one can select a scriptlet to be executed:</p><pre><code>  ping / google
  ping / cloudflare
  ip / addr / show
  hello world (in shell)
  hello world (in Python)
&gt; hello world (in PHP)
  7/7
: _
</code></pre><p>In a few sentences,
<code>z-run</code> is a lightweight and portable tool
that allows one to create and execute a library of scripts,
by mix-and-matching multiple languages,
from <code>bash</code>, Python, Ruby, PHP, up-to <code>jq</code>, <code>make</code> and <code>ninja</code>.</p><p>It works based on the observation that
the majority of interpreters can take as argument
a path that points to the file to be executed.
Based on this, when <code>z-run</code> is called to execute a scriptlet,
it creates a temporary file (and if small enough just a pipe),
and then calls the delegated interpreter.</p><p>Thus, <code>z-run</code> fulfills the following basic goals:</p><ul><li>allows one to easily author small scriptlets,
independent of the interpreter,
all in one file (or a small set of files);</li><li>presents the user with a <code>fzf</code>-based menu,
that allows one to easily select a scriptlet for execution;</li><li>bootstraps the required script and environment for the actual interpreter;</li><li>delegates the scriptlet execution to the actual interpreter;</li></ul><p>Besides this, <code>z-run</code> also fulfills the following advanced goals:</p><ul><li>allows generating the library at compile-time;
(sort of like macro expansion, but at a much lower level;)</li><li>provides a built-in templating language;
(especially useful in the previous feature;)</li><li>provides remote execution of scriptlets over SSH,
without any additional requirements than
having <code>z-run</code> deployed on the remote machine;</li></ul><hr><h2>Status</h2><p>Currently, <code>z-run</code> is still in a pre-release state,
perhaps somewhere between a beta and a release-candidate.</p><p>There is no promise of backward or forward compatibility,
there is little documentation (besides the examples),
there is no testing harness,
and there is no roadmap.</p><p>However, <strong>I do use it personally for all my scripting tasks</strong>,
from project development to automation.
Moreover, <strong>I do also use it in production for various operational tasks</strong>,
from driving Ansible and LetsEncrypt, to remote execution.</p><p>Also see the "<a href=#how-is-it-tested>How is it tested?</a>",
"<a href=#how-quick-are-issues-fixed>How quick are issues fixed?</a>",
"<a href=#how-to-ask-for-help>How to ask for help?</a>",
and "<a href=#how-to-get-commercial-support>How to get commercial support?</a>"
questions in the FAQ section.</p><p>Here are some examples of where it is used:</p><ul><li><p><a href=https://github.com/volution/z-run/tree/development/scripts>z-run</a>
(this tool itself)
-- used for all project development tasks (from building and testing to publishing);</p></li><li><p><a href=https://github.com/volution/z-scratchpad/tree/master/scripts>z-scratchpad</a>
(wiki-like and notes tool)
-- used for all project development tasks;</p></li><li><p><a href=https://github.com/volution/kawipiko/tree/development/scripts>kawipiko</a>
(static HTTP server using CDB)
-- used for all project development tasks;</p></li><li><p><a href=https://github.com/volution/vonuvoli-scheme/tree/development/scripts>vonuvoli</a>
(R7RS Scheme interpreter)
-- used for all project development tasks, plus building remote building;</p></li><li><p><a href=https://github.com/volution/volution-md5-tools/tree/master/scripts>md5-tools</a>
(MD5/SHA*/Blake*/etc. recursive parallel hasher)
-- used for all project development tasks;</p></li><li><p><a href=https://github.com/cipriancraciun/covid19-datasets/tree/master/scripts>covid19-datasets</a>
(derived and augmented COVID19 datasets based on JHU and NY-Times)
-- used for all workflow aspects, from downloading, cleaning, merging, and publishing;
(it drives <code>ninja</code>, <code>jq</code>, Python and Julia; running everything remotely on a dedicated server;)</p></li><li><p><a href=https://github.com/console9/hyper-simple-server/tree/master/scripts>hyper-simple-server</a> and
<a href=https://github.com/console9/hyper-static-server/tree/master/scripts>hyper-static-server</a>
(low-level HTTP servers written in Rust based on <code>hyper</code>)
-- used for all project development tasks;</p></li></ul><p>Besides these few public examples, all my development projects (personal or professional)
have their <code>z-run</code> scripts.
I have even built a simple map-reduce framework to handle offline log processing.</p><hr><h2>Manual</h2><p>At the moment, the documentation is quite scarce...</p><p>One can consult the following resources:</p><ul><li>the <code>z-run</code> draft help in <a href=./documentation/help/z-run.txt>documentation/help/z-run.txt</a>;</li><li>the <code>z-run</code> draft manual in <a href=./documentation/manual/z-run.1.ronn>documentation/manual/z-run.1.ronn</a>;</li><li><code>z-run --help</code>, <code>z-run --manual</code>, and <code>z-run --readme</code>;
(the above files and this readme are embedded in the executable itself;)
(there is also <code>--manual-man</code>, <code>--manual-html</code>, and <code>--readme-html</code> for <code>man</code> / HTML formats;)</li><li>the various example files in <a href=./examples>examples</a>, which expose most of the basic and advanced <code>z-run</code> features;</li><li>the scripts folders linked-at in the <a href=#status>status</a> section;</li><li>the simple snippets in the <a href=#examples>examples</a> section;</li></ul><hr><h2>Examples</h2><blockquote><p><strong>For the moment, this section shall also serve as a manual.</strong></p></blockquote><h3>Introduction</h3><p>Prerequisites:</p><ul><li>having <code>z-run</code> deployed somewhere on the <code>$PATH</code>;
(it is recommended to place it in <code>/usr/local/bin</code>;)</li><li>nothing else!</li></ul><p>Terminology:</p><ul><li><p>scriptlet
-- a small and simple script,
executed by an interpreter (<code>bash</code>, Python, <code>jq</code>, etc.),
focusing on one single well-defined task,
delegating more lower-level tasks to other scriptlets;
(you know, follow the old UNIX philosophy of KISS, "<a href=https://en.wikipedia.org/wiki/KISS_principle>keep-it-simple-stupid</a>",
or its more civilized variant "<a href=https://en.wikipedia.org/wiki/Unix_philosophy#Do_One_Thing_and_Do_It_Well>do one thing and do it well</a>",
and use a "<a href=https://en.wikipedia.org/wiki/Top-down_and_bottom-up_design#Programming>top-down structured programming</a>" approach;)</p></li><li><p>scriptlet label
-- the unique identifier of the scriptlet,
usually in a hierarchical form like <code>category / subcategory / task</code>;
this is used when invoking a scriptlet as in <code>z-run ':: category / subcategory / task'</code>;</p></li><li><p>scriptlet body
-- the source code of the scriptlet,
passed by <code>z-run</code> to the delegated interpreter;
<code>z-run</code> doesn't look, change, or care what is inside the body;
it is taken verbatim, without any expansions or changes;
(it only must be a valid UTF-8 text;)</p></li><li><p>library
-- a set of related scriptlets,
managed by <code>z-run</code>;</p></li><li><p>workbench
-- <code>z-run</code> allows one to have multiple self-contained scriptlet libraries,
therefore, the folder where such library resides is called a workbench;
however a workbench can contain other files,
perhaps files the scriptlets require or operate on;
for example in case of development projects,
the library can be placed inside the <code>scripts</code> folder,
but the workbench is the entire project folder;</p></li><li><p>library source file
-- the library is compiled from a set of source files;
each can contain one or multiple scriptlets;
each can include one or multiple other source files;</p></li></ul><p>Behavior:</p><ul><li><p><code>z-run</code> should be executed in the workbench folder;
(thus the current folder is usually the workbench folder;)</p></li><li><p><code>z-run</code> searches the workbench folder for scriptlets based on the following rules:</p><ul><li>first it tries to see if there is a <code>z-run</code>, <code>zrun</code>, <code>scriptlets</code>, <code>scripts</code>, or <code>bin</code> folder;
(perhaps prefixed by <code>_</code> or <code>.</code>, as in <code>z-run</code>, <code>_z-run</code>, or <code>.z-run</code>;)</li><li>if none such folder exists, it assumes that the workbench folder is the basis for the library;</li><li>then given the folder previously identified, it tries to see if there is a <code>z-run</code> or <code>zrun</code> file;
(perhaps prefixed by <code>_</code> or <code>.</code>, as in <code>z-run</code>, <code>_z-run</code>, or <code>.z-run</code>;)</li><li>if none such file exists, it then tries from the first step, but looking into <code>.git</code>, <code>.hg</code>, <code>.svn</code>, <code>.bzr</code>, <code>.darcs</code>;
(this allows one to hide <code>z-run</code> scripts inside the VCS folder;)</li></ul></li><li><p><code>z-run</code> only accepts valid UTF-8 files for the library source;</p></li><li><p><code>z-run</code> is quite "white-space" sensitive;
(inside the scriptlet body it doesn't care;)</p></li><li><p><code>z-run</code> always handles source files relative to the workbench folder;</p></li><li><p><code>z-run</code> always executes scriptlets in the workbench folder;</p></li></ul><p>Suggestions:</p><ul><li><p>although scriptlets can take arguments,
if based on an argument the behavior changes radically,
consider splitting that into two different scriptlets;</p></li><li><p>have each scriptlet focus on a single well-defined task,
consider delegating lower-level tasks to other scriptlets;</p></li><li><p>instead of having complex shell pipe-lines,
consider extracting part of a pipe-line into a dedicated scriptlet;</p></li><li><p>if the same snippet of code repeats multiple times,
consider extracting it into a dedicated scriptlet;</p></li><li><p>if some scriptlets are not meant to be executed directly,
consider hiding them from the main menu,
by either catching them in sub-menus,
or by completely hiding them by prefixing them with <code>--</code>,
as in <code>--:: some-category / some-very-low-level-task :: ...</code>;</p></li><li><p>many times the main purpose of a scriptlet is
to just prepare the environment for another tool,
and as the last action just executing that tool;
in this case consider using <code>exec some-tool ...</code>,
thus replacing the interpreter process with that tool's process;
( else one would end-up with a tree of processes that just wait for one-another;)</p></li></ul><hr><h3>Creating the library of scriptlets</h3><p><code>z-run</code> uses a simple syntax, one perhaps similar to <code>make</code>:</p><ul><li><p>each library source file contains a sequence of scriptlets (label and body),
or a set of directives (including other source files, changing the environment, etc.);</p></li><li><p>scriptlets can be written in one line
by using the following syntax,
where the <code>scriptlet label</code> can't contain <code>::</code>,
and the interpreter is assumed to be <code>bash</code>:</p></li></ul><pre><code>:: scriptlet label :: scriptlet body
</code></pre><ul><li>scriptlets can be written on multiple lines
by using the following syntax,
where the <code>scriptlet label</code> can't contain <code>::</code>,
the <code>scriptlet body</code> must be indented
(tabs or spaces doesn't matter, just be consistent)
(the first indentation level will be removed when sent to the interpreter),
and the interpreter is assumed to be <code>bash</code>:</li></ul><pre><code>&lt;&lt; scriptlet label
	scriptlet body line 1
	scriptlet body line 2
	...
!!
</code></pre><ul><li>scriptlets can have other interpreters than <code>bash</code>
by using the following syntax,
just like the <code>#!</code> file header in normal scripts
(mind the spaces between <code>#!</code> and the rest of that line):</li></ul><pre><code>&lt;&lt; something in bash (A)
	...
!!
&lt;&lt; something in bash (B)
	#! &lt;bash&gt;
	...
!!
&lt;&lt; something in Python (A)
	#! &lt;python2&gt;
	...
!!
&lt;&lt; something in Python (B)
	#! &lt;python3&gt;
	...
!!
&lt;&lt; something in jq (with extra arguments)
	#! &lt;jq&gt; --slurp --raw-output
	...
!!
&lt;&lt; something in custom interpreter (A)
	#! my-custom-interpreter
	...
!!
&lt;&lt; something in custom interpreter (B)
	#! /usr/local/bin/my-custom-interpreter
!!
</code></pre><ul><li>scriptlets can be excluded from the library
(mind the two <code>##</code> just before <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>##:: this scriptlet is ignored (A) :: ...

##&lt;&lt; this scriptlet is ignored (B)
	...
!!
</code></pre><ul><li>arbitrary multi-line comments can be written
(mind the <code>##{{</code> and <code>##}}</code> that must start on the first column):</li></ul><pre><code>##{{

some text that doesn't contain ##}}

##}}
</code></pre><ul><li>scriptlets can be hidden from the main menu
(mind the two <code>--</code> just before <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>--:: this scriptlet is hidden (A) :: ...

--&lt;&lt; this scriptlet is hidden (B)
	...
!!
</code></pre><ul><li>scriptlets can be gathered in sub-menus
(mind the <code>//</code> just after the <code>::</code>);
the <code>...</code> suffix gathers all scriptlets having that prefix (except <code>...</code>)
under that sub-menu, and hides them from the main menu;
the <code>*</code> suffix also gathers all scriptlets having that prefix (except <code>*</code>),
under that sub-menu, but doesn't hide them from the main menu;
the <code>::// *</code> entry is just a sub-menu that contains all other scriptlets:</li></ul><pre><code>::// category-a / ...
::// category-b / *
::// *

:: category-a / scriptlet-1 :: ...
:: category-a / scriptlet-2 :: ...
:: category-b / scriptlet-1 :: ...
:: category-b / scriptlet-2 :: ...
</code></pre><ul><li>scriptlets can be forced in the main menu
(mind the <code>++</code> just before <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>++:: this scriptlet is forced (A) :: ...

++&lt;&lt; this scriptlet is forced (B)
!!
</code></pre><ul><li>environment variables can be defined to string values:</li></ul><pre><code>&amp;&amp;== env SOME_ENV some-value
</code></pre><ul><li>environment variables can be defined to absolute paths:</li></ul><pre><code>&amp;&amp;== env SOME_PATH ./relative-path
</code></pre><ul><li>the <code>$PATH</code> environment variable can be appended with absolute paths:</li></ul><pre><code>&amp;&amp;== path ./bin
</code></pre><ul><li>environment variables, similar to <code>$PATH</code>, can be appended with absolute paths:</li></ul><pre><code>&amp;&amp;== env-path-append ./bin
</code></pre><ul><li>environment variables can be removed:</li></ul><pre><code>&amp;&amp;== env-exclude SOME_ENV_1 SOME_ENV_2
</code></pre><ul><li>environment variables can be provided with defaults:</li></ul><pre><code>&amp;&amp;== env-fallback SOME_ENV default-value
</code></pre><ul><li>other library source files can be included:</li></ul><pre><code>&amp;&amp; _/file-relative-to-the-current-source-file-parent
&amp;&amp; ./file-relative-to-the-current-workbench-folder
&amp;&amp; /file-with-absolute-path

&amp;&amp;?? _/file-that-might-not-exist
&amp;&amp;?? ./file-that-might-not-exist
</code></pre><p><strong>TBD:</strong></p><ul><li>scriptlets bodies from files;</li><li>scriptlets replacement bodies;</li><li>single-line scriptlets with custom interpreter;</li><li>complex sub-menus;</li><li>scriptlets generators;</li><li>depending on files or folders without including them (useful for generators);</li><li>using print scriptlets;</li><li>using template scriptlets;</li><li>using the <code>bash+</code> interpreter extension;</li><li>using the <code>python3+</code> interpreter extension;</li><li>using the <code>go</code> interpreter;</li><li>using the <code>go+</code> interpreter;</li><li>using the <code>starlark</code> interpreter;</li><li>environment variables values substitutions;</li><li>included source file paths substitutions;</li></ul><hr><h3>Using the library of scriptlets from the console</h3><ul><li>showing the main menu:</li></ul><pre><code>z-run
</code></pre><ul><li>showing a sub-menu
(the label must exactly match how it was defined,
that is with <code>...</code> or <code>*</code> suffix):</li></ul><pre><code>z-run ':: category-a / ...'
z-run ':: category-b / *'
z-run ':: *'
</code></pre><ul><li>executing a scriptlet
(the <code>::</code> is mandatory, regardless of how the scriptlet was defined,
with <code>::</code> or <code>&lt;&lt;</code>):</li></ul><pre><code>z-run ':: category-a / scriptlet-1'
z-run ':: category-b / scriptlet-2' some-argument ...
</code></pre><ul><li>listing all the scriptlet labels:</li></ul><pre><code>z-run list
</code></pre><ul><li>select a scriptlet from the menu,
and print its label:</li></ul><pre><code>z-run select-label
</code></pre><ul><li>select a scriptlet from the menu,
and print its body:</li></ul><pre><code>z-run select-body
</code></pre><p><strong>TBD:</strong></p><ul><li>compiling libraries and using them;</li><li>executing remote scriptlets over SSH;</li><li>using a library as a standalone tool with <code>z-run --exec</code>;</li><li>executing standalone scriptlets with <code>z-run --scriptlet</code>;</li><li>executing standalone scriptlets with <code>z-run --scriptlet-exec</code>;</li><li>executing standalone templates with <code>z-run --template</code>;</li><li><code>z-run --input</code>, <code>z-run --select</code>, and <code>z-run --fzf</code>;</li><li><code>z-run --shell</code>;</li><li><code>z-run --export=shell-functions</code>;</li><li><code>z-run --version</code>;</li><li><code>z-run --help</code>;</li><li><code>z-run --manual</code>;</li><li><code>z-run --manual-man</code>;</li><li><code>z-run --manual-html</code>;</li><li><code>z-run --readme</code>;</li><li><code>z-run --readme-html</code>;</li><li><code>z-run --sources-md5</code>;</li><li><code>z-run --sources-cpio | gunzip | cpio -i -t</code>;</li></ul><hr><h2>Installation</h2><h3>Download prebuilt executables</h3><p>One should see the <a href=https://github.com/volution/z-run/releases>releases page on GitHub</a>,
where pre-built executables (only Intel 64bit architectures) are available for:</p><ul><li>Linux (the main development and testing environment) --<br><a href=https://github.com/volution/z-run/releases/download/v0.18.1/z-run--linux--v0.18.1>https://github.com/volution/z-run/releases/download/v0.18.1/z-run--linux--v0.18.1</a></li><li>OSX (only Intel CPU's) (the second targeted environment) --<br><a href=https://github.com/volution/z-run/releases/download/v0.18.1/z-run--darwin--v0.18.1>https://github.com/volution/z-run/releases/download/v0.18.1/z-run--darwin--v0.18.1</a></li><li>OpenBSD (seldom tested) --<br><a href=https://github.com/volution/z-run/releases/download/v0.18.1/z-run--openbsd--v0.18.1>https://github.com/volution/z-run/releases/download/v0.18.1/z-run--openbsd--v0.18.1</a></li><li>FreeBSD (seldom tested) --<br><a href=https://github.com/volution/z-run/releases/download/v0.18.1/z-run--freebsd--v0.18.1>https://github.com/volution/z-run/releases/download/v0.18.1/z-run--freebsd--v0.18.1</a></li></ul><p>Also, each of these files are signed with my PGP key <code>5A974037A6FD8839</code>, thus do check the signature.</p><p>For example:</p><ul><li>import my PGP key:</li></ul><pre><code>curl -s https://github.com/cipriancraciun.gpg | gpg2 --import
</code></pre><pre><code>gpg: key 5A974037A6FD8839: public key &quot;Ciprian Dorin Craciun &lt;ciprian@volution.ro&gt;&quot; imported
gpg: Total number processed: 1
gpg:               imported: 1
</code></pre><ul><li>download the executable and signature (replace the <code>linux</code> token with <code>darwin</code> (for OSX), <code>freebsd</code> or <code>openbsd</code>):</li></ul><pre><code>curl \
        -s -S -f -L \
        -o /tmp/z-run \
        https://github.com/volution/z-run/releases/download/v0.18.1/z-run--linux--v0.18.1 \
#

curl \
        -s -S -f -L \
        -o /tmp/z-run.asc \
        https://github.com/volution/z-run/releases/download/v0.18.1/z-run--linux--v0.18.1.asc \
#
</code></pre><ul><li>verify the executable:</li></ul><pre><code>gpg2 --verify /tmp/z-run.asc /tmp/z-run
</code></pre><ul><li><strong>check that the key is <code>58FC2194FCC2478399CB220C5A974037A6FD8839</code></strong>:</li></ul><pre><code>gpg: assuming signed data in '/tmp/z-run'
gpg: Signature made Sun Oct  3 21:49:50 2021 EEST
gpg:                using DSA key 58FC2194FCC2478399CB220C5A974037A6FD8839
gpg: Good signature from &quot;Ciprian Dorin Craciun &lt;ciprian@volution.ro&gt;&quot; [unknown]
gpg:                 aka &quot;Ciprian Dorin Craciun &lt;ciprian.craciun@gmail.com&gt;&quot; [unknown]
gpg: WARNING: This key is not certified with a trusted signature!
gpg:          There is no indication that the signature belongs to the owner.
Primary key fingerprint: 58FC 2194 FCC2 4783 99CB  220C 5A97 4037 A6FD 8839
</code></pre><ul><li>change the executable permissions:</li></ul><pre><code>chmod a=rx /tmp/z-run
</code></pre><ul><li>copy the executable on the <code>$PATH</code>:</li></ul><pre><code>sudo cp /tmp/z-run /usr/local/bin/z-run
</code></pre><ul><li>check that it works:</li></ul><pre><code>z-run --version
</code></pre><pre><code>* tool          : z-run
* version       : 0.19.0
* executable    : /usr/local/bin/z-run
* build target  : release, linux-amd64, go1.17.6, gc
* build number  : 12170, 2022-01-19-23-30-43
* code &amp; issues : https://github.com/volution/z-run
* sources git   : a6e6ce1dbd63eb871ad0280d6dbafdbc9e7960d9
* sources hash  : d7ba8be84e85329ac187984750ecd242
* uname node    : some-workstation
* uname system  : Linux, 5.15.6-1-default, x86_64
* uname hash    : 7c8643e588e6fbb4063d2643de27c39b
</code></pre><h3>Build from sources</h3><p>Go is a prerequisite;
one can install it from any Linux or BSD package manager,
or OSX's <code>brew</code>,
or just downloading it from <a href=https://golang.org/dl>https://golang.org/dl</a>.</p><p>The first step is preparing the environment:</p><pre><code>mkdir \
        /tmp/z-run \
        /tmp/z-run/bin \
        /tmp/z-run/src \
        /tmp/z-run/go \
#
</code></pre><p>The second step is cloning the Git repository:</p><pre><code>git clone \
        --branch development \
        --depth 1 \
        http://github.com/volution/z-run.git \
        /tmp/z-run/src \
#
</code></pre><p>Alternatively, one can just fetch the sources bundle:</p><pre><code>curl \
        -s -S -f -L \
        -o /tmp/z-run/src.tar.gz \
        https://github.com/volution/z-run/archive/refs/heads/development.tar.gz \
#

tar \
        -x -z \
        -f /tmp/z-run/src.tar.gz \
        -C /tmp/z-run/src \
        --strip-components 1 \
#
</code></pre><p>Finally, compiling the <code>z-run</code> executable:</p><pre><code>cd /tmp/z-run/src/sources

env \
        GOPATH=/tmp/z-run/go \
go build \
        -tags 'netgo' \
        -gcflags 'all=-l=4' \
        -ldflags 'all=-s' \
        -trimpath \
        -o /tmp/z-run/bin/z-run \
        ./cmd/z-run.go \
#
</code></pre><p>Optionally, deploying the <code>z-run</code> executable:</p><pre><code>sudo \
cp \
        /tmp/z-run/bin/z-run \
        /usr/local/bin/z-run \
#
</code></pre><p>Optionally, check that <code>z-run</code> works:</p><pre><code>z-run --version
</code></pre><pre><code>* tool          : z-run
* version       : 0.19.0
* executable    : /usr/local/bin/z-run
* build target  : release, linux-amd64, go1.17.6, gc
* build number  : 12170, 2022-01-19-23-30-43
* code &amp; issues : https://github.com/volution/z-run
* sources git   : a6e6ce1dbd63eb871ad0280d6dbafdbc9e7960d9
* sources hash  : d7ba8be84e85329ac187984750ecd242
* uname node    : some-workstation
* uname system  : Linux, 5.15.6-1-default, x86_64
* uname hash    : 7c8643e588e6fbb4063d2643de27c39b
</code></pre><hr><h2>FAQ</h2><h3>How to ask for help?</h3><p>If you have encountered a bug,
just use the <a href=https://github.com/volution/z-run/issues>GitHub issues</a>.</p><p>If you are not sure about something,
want to give feedback,
or request new features,
just use the <a href=https://github.com/volution/z-run/discussions/categories/discussions>GitHub discussions</a>.</p><p>If you want to ask a quick question,
or just have a quick chat,
just head over to the <a href=https://discord.gg/WjBfs8rz>Discord channel</a>.</p><h3>How is it tested?</h3><p>I use it myself every day,
in almost every task that involves my laptop,
from projects development,
to production operations,
application launching,
and even for auto-completion in the editor.</p><p>Most of my use-cases use many of the advanced features,
thus most corner-cases are well covered.</p><h3>How quick are issues fixed?</h3><p>As stated in the previous answer,
because I use <code>z-run</code> myself for everything,
any major issue means I can't do my work;
thus I need to stop everything
and just fix the issue.</p><p>As a consequence, the turn-around-time is quite small.</p><h3>How to get commercial support?</h3><p>If you want to use <code>z-run</code> in production,
and want to be sure that you are using it correctly,
or just want to be sure that issues (or features) that you need get prioritized,
I own a European limited-liability company
so just <a href=mailto:ciprian.craciun@gmail.com>email me</a>,
and we can discuss the options.</p><h3>Why <code>z-run</code> instead of classical scripts?</h3><p>What sets <code>z-run</code> aside from a classical scripts is this:</p><ul><li><p>first, it allows one to easily mix multiple languages;
for example one can easily write a shell script that chains together a Python, Ruby and another shell script,
all within the same file, without having to resort to here-documents or quoting;
(with classical scripts, one would have had to create multiple files,
one for each language,
and explicitly invoke them via the interpreter;)</p></li><li><p>it allows one to easily bundle together unrelated scripts;
for example say one uses <code>z-run</code> to aid in the development process,
then one could bundle together scripts related to
compiling, testing, deploying, and other single-shot shortcuts in the same file;
(with classical scripts, one would usually have to put each of these in separate files,
or by using <code>case</code> or <code>function</code> try to manage them inside a reduced set of files;)</p></li><li><p>it allows one to easily invoke scriptlets from within the same library,
without caring what language they are written in,
or where their source code is stored;
(with classical scripts, one has to take care of getting the paths to other scripts right,
especially when running from a different folder than the original one;)</p></li></ul><p>However, <code>z-run</code> takes it a step further by offering the following functionalities:</p><ul><li><p>hierarchical menus
-- by simply calling <code>z-run</code> without any arguments,
it presents one with a selectable menu of all the scriptlets in the library,
and after one selects a scriptlet, it executes it;
moreover one can group various scriptlets under other sub-menus,
thus allowing arbitrary nesting and navigation;
(when used from a terminal, <code>z-run</code> uses and embedded <code>fzf</code>-based UI;
when used from outside a terminal, <code>z-run</code> tries to use
<code>z-run--select</code> (any system),
<code>rofi</code> or <code>dmenu</code> (under Linux and BSD's),
or <code>choose</code> (under OSX);)</p></li><li><p>environment variables management
-- by allowing certain environment variables to be
overridden, removed or appended (like in the case of <code>$PATH</code>);
(with classical scripts, one has to manage these by themselves,
resort to various "envdir" tools,
or interact with shell magic;)</p></li><li><p>SSH-based remote execution
-- one can easily execute a given scriptlet on a remote server
without having to previously copy anything there;
moreover, once the scriptlet is executing on the remote server,
it can invoke other scriptlets from the library that are also to be executed remotely;
(the only requirement is having <code>z-run</code> installed on the remote machine;)</p></li><li><p>scriptlets generation
-- one can easily write a scriptlet that generates <code>z-run</code> compliant source,
thus generating other scriptlets based on arbitrary criteria;
(for example one could write a scriptlet that generates other scriptlets specific for each file in a given folder;)</p></li><li><p>library compiling
-- one can easily create a single file that contains the entire library,
which can then be moved and used in another place;</p></li><li><p>Go-based templates
-- that are useful especially in generating other scriptlets;</p></li></ul><h3>What is the performance?</h3><p><code>z-run</code> is designed to support thousands (and in extreme cases tens of thousands) of scriptlets,
especially when scriptlet generation is used.
For example:</p><ul><li>my own COVID19 workbench has ~20K scriptlets;</li><li>my own photography workbench has ~47K scriptlets;</li><li>and a production operations workbench has ~4K scriptlets;</li></ul><p>Therefore, <code>z-run</code> has built-in optimizations
to cache the library contents (without any regeneration),
unless any of the following conditions are met:</p><ul><li>any of the files that comprise the source code of the library are changed;
(based both on file timestamps and contents hashing;)</li><li>any of the environment variables change;</li><li>a different version of <code>z-run</code> is installed;
(this covers both upgrading and downgrading;)</li></ul><p>However, once a scriptlet is executed,
it and any other invoked scriptlets
will use exactly the same cached library contents.
Thus, it is safe to change the source code of the library
while a scriptlet is executing
(unlike shell scripts,
that because the shell reads one line at a time in a read-eval-loop,
it thus trips if the script is changed beyond the currently executed line).</p><h3>Why Go?</h3><p>Because Go is highly portable, highly stable,
and especially because it can easily support
cross-compiling statically linked executables
to any platform it supports.</p><h3>Why not Rust?</h3><p>Because Rust fails to easily support
cross-compiling (statically or dynamically linked) executables
to any platform it supports.</p><p>Because Rust is less portable than Go;
for example, Rust doesn't consider OpenBSD as a "tier-1" platform.</p><h3>What other open-source code does it depend on?</h3><ul><li><a href=https://github.com/junegunn/fzf>fzf</a>
(via my custom <a href=https://github.com/cipriancraciun/fzf>fork</a>);</li><li><a href=https://github.com/colinmarc/cdb>cdb</a>
(via my custom <a href=github.com/cipriancraciun/go-cdb-lib>fork</a>;</li><li><a href=github.com/jessevdk/go-flags>go-flags</a>;</li><li><a href=github.com/peterh/liner>liner</a>;</li><li>also see the <a href=./sources/go.mod>go.mod</a> file
for other minor dependencies;</li></ul><h3>Some related readings...</h3><ul><li><a href=https://slack.engineering/development-environments-at-slack/>Development Environments at Slack</a></li></ul><hr><h2>Notice (copyright and licensing)</h2><h3>Authors</h3><p>Ciprian Dorin Craciun:</p><ul><li><a href=mailto:ciprian@volution.ro>ciprian@volution.ro</a> or <a href=mailto:ciprian.craciun@gmail.com>ciprian.craciun@gmail.com</a></li><li><a href=https://volution.ro/ciprian>https://volution.ro/ciprian</a></li><li><a href=https://github.com/volution>https://github.com/volution</a></li><li><a href=https://github.com/cipriancraciun>https://github.com/cipriancraciun</a></li></ul><h3>Notice -- short version</h3><p>The code is licensed under GPL 3 or later.</p><p>This is the same license as used by
Linux, Git, MySQL/MariaDB, WordPress, F-Droid,
and many other projects.</p><p>If you <strong>change</strong> the code within this repository
and use it for <strong>non-personal</strong> purposes,
you'll have to release the changed source code as per GPL.</p><h3>Notice -- long version</h3><p>For details about the copyright and licensing,
please consult the <a href=./documentation/licensing/notice.txt>notice.txt</a> file
in the <a href=./documentation/licensing>documentation/licensing</a> folder.</p><p>If someone requires the sources and/or documentation to be released
under a different license, please email the authors,
stating the licensing requirements, accompanied by the reasons
and other details; then, depending on the situation, the authors might
release the sources and/or documentation under a different license.</p></main></body></html>